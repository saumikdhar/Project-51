(this["webpackJsonpproject-management-frontend"]=this["webpackJsonpproject-management-frontend"]||[]).push([[0],{131:function(e,t,n){e.exports={Scoreboard:"Scoreboard_Scoreboard__1eL-T",RagCharts:"Scoreboard_RagCharts__1MATN",RagChart:"Scoreboard_RagChart__1DODG"}},146:function(e,t,n){e.exports={InputType:"InputType_InputType__HV1K5"}},185:function(e,t,n){e.exports={CreateProject:"CreateProject_CreateProject__3JeeI",Box:"CreateProject_Box__1UHsw",Button:"CreateProject_Button__5a_f-"}},196:function(e,t,n){e.exports={Input:"Input_Input__2Tr5k",Label:"Input_Label__2rMhM",InputElement:"Input_InputElement__Hvu41",Invalid:"Input_Invalid__11oF1"}},198:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__2ddc9",Logo:"Toolbar_Logo__3hRcV",AppTitle:"Toolbar_AppTitle__1Xls9",DesktopOnly:"Toolbar_DesktopOnly__sICxZ"}},199:function(e,t,n){e.exports={ProjectSubmission:"ProjectSubmission_ProjectSubmission__zW7bI",box:"ProjectSubmission_box__SRrNt",image:"ProjectSubmission_image__1DtzI",contentWrapper:"ProjectSubmission_contentWrapper__1Yabm",homeButton:"ProjectSubmission_homeButton__Gy6Gp"}},242:function(e,t,n){e.exports={AssignProjects:"AssignUsers_AssignProjects__2zg_D",User:"AssignUsers_User__1CdXD",Button:"AssignUsers_Button__65MQ8"}},276:function(e,t,n){e.exports={Button:"Button_Button__1MTXA",Submit:"Button_Submit__2HRux",Create:"Button_Create__1Atpf",Back:"Button_Back__umykc"}},277:function(e,t,n){e.exports={Path:"Global_Path__3UIIt",dash:"Global_dash__3NCMn",Svg:"Global_Svg__3DKA-"}},296:function(e,t,n){e.exports={NavigationItem:"NgnItem_NavigationItem__1Wwpf",active:"NgnItem_active__1ITZg"}},385:function(e,t,n){e.exports={Auth:"Auth_Auth__pzKcc"}},389:function(e,t,n){e.exports={Users:"Users_Users__1w3Lm"}},406:function(e,t,n){e.exports={Content:"Layout_Content__3ji9x"}},407:function(e,t,n){e.exports={Logo:"Logo_Logo__1ypDB"}},408:function(e,t,n){e.exports={NavigationItems:"NavItems_NavigationItems__1vIJT"}},438:function(e,t,n){},439:function(e,t,n){},461:function(e,t,n){},529:function(e,t,n){},612:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0),a=n.n(o),c=n(40),s=n.n(c),i=(n(438),n(439),n(46)),l=n(48),u=n(215),j=n(23),d=n(385),h=n.n(d),p=n(276),b=n.n(p),m=function(e){return Object(r.jsx)("button",{disabled:e.disabled,className:[b.a.Button,b.a[e.btnType]].join(" "),onClick:e.clicked,children:e.children})},O=n(84),f=n(196),x=n.n(f),g=function(e){var t=null,n=[x.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(x.a.Invalid),e.elementType){case"input":t=Object(r.jsx)("input",Object(O.a)(Object(O.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"textarea":t=Object(r.jsx)("textarea",Object(O.a)(Object(O.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;default:t=Object(r.jsx)("input",Object(O.a)(Object(O.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}))}return Object(r.jsxs)("div",{className:x.a.Input,children:[Object(r.jsx)("label",{className:x.a.Label,children:e.label}),t]})},v=function(e,t){return Object(O.a)(Object(O.a)({},e),t)},y="AUTH_START",S="AUTH_SUCCESS",C="AUTH_FAIL",w="AUTH_LOGOUT",T="SET_AUTH_REDIRECT_PATH",_="GET_USER_START",k="GET_USER_SUCCESS",P="GET_USER_FAIL",E="GET_USERS_START",I="GET_USERS_SUCCESS",A="GET_USERS_FAIL",N="ADD_USER_START",U="ADD_USER_SUCCESS",R="ADD_USER_FAIL",D="EDIT_USER_START",B="EDIT_USER_SUCCESS",M="EDIT_USER_FAIL",L="DELETE_USER_START",z="DELETE_USER_SUCCESS",F="DELETE_USER_FAIL",V="GET_PROJECT_USERS_START",q="GET_PROJECT_USER_SUCCESS",J="GET_PROJECT_USER_FAIL",G="ADD_PROJECT_USER_START",H="ADD_PROJECT_USER_SUCCESS",W="ADD_PROJECT_USER_FAIL",Y="REMOVE_PROJECT_USER_START",Q="REMOVE_PROJECT_USER_SUCCESS",K="REMOVE_PROJECT_USER_FAIL",X="EDIT_PROJECT_START",Z="EDIT_PROJECT_SUCCESS",$="EDIT_PROJECT_FAIL",ee="SET_PROJECT_USER",te=function(e,t,n){return{type:S,token:e,userId:t,role:n}},ne=function(e){return{type:C,error:e}},re=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),localStorage.removeItem("role"),{type:w}},oe=function(e){return function(t){setTimeout((function(){t(re())}),e)}},ae=function(e,t){return function(n){n({type:y});var r="".concat("https://project-management-001-api.herokuapp.com","/auth/login");fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){if(422===e.status)throw new Error("Validation failed.");if(200!==e.status&&201!==e.status)throw new Error("Email or password was incorrect!");return e.json()})).then((function(e){n(te(e.token,e.userId,e.role)),localStorage.setItem("token",e.token);var t=36e5,r=new Date((new Date).getTime()+t);localStorage.setItem("expiryDate",r.toISOString()),n(oe(t))})).catch((function(e){n(ne(e))}))}},ce=function(){return function(e){e({type:E});var t="".concat("https://project-management-001-api.herokuapp.com","/users/getAll"),n=localStorage.getItem("token");fetch(t,{method:"POST",headers:{Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Could not retrieve users!");return e.json()})).then((function(t){e({type:I,users:t})})).catch((function(t){e(function(e){return{type:A,error:e}}(t))}))}},se=function(e){return function(t){t({type:N});var n="".concat("https://project-management-001-api.herokuapp.com","/users/add"),r=localStorage.getItem("token");fetch(n,{method:"POST",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Could not add user!");return e.json()})).then((function(e){t(ce()),t({type:U})})).catch((function(e){t(function(e){return{type:R,error:e}}(e))}))}},ie=function(e){return function(t){t({type:D});var n=localStorage.getItem("token");fetch("http://localhost:8080/users/edit",{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Could not edit user!");return e.json()})).then((function(e){t(ce()),t({type:B})})).catch((function(e){t(function(e){return{type:M,error:e}}(e))}))}},le=function(e){return function(t){t({type:L});var n=localStorage.getItem("token");fetch("http://localhost:8080/users/delete",{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Could not edit user!");return e.json()})).then((function(e){t(ce()),t({type:z})})).catch((function(e){t(function(e){return{type:F,error:e}}(e))}))}},ue=n(80),je=n.n(ue),de=(je.a.create({baseURL:"http://localhost:8080/api"}),n(36)),he=n.n(de),pe=n(58),be=function(e){return{type:q,users:e}},me=function(e,t){return function(){var n=Object(pe.a)(he.a.mark((function n(r){var o,a,c,s;return he.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:Y}),"http://localhost:8080/users/removeUserFromProject","PATCH",o=localStorage.getItem("token"),a={Authorization:"Bearer "+o,"Content-Type":"application/json"},n.prev=5,n.next=8,fetch("http://localhost:8080/users/removeUserFromProject",{method:"PATCH",headers:a,body:JSON.stringify({projectId:t,userId:e})});case 8:return c=n.sent,n.next=11,c.json();case 11:if(s=n.sent,c.ok){n.next=16;break}throw new Error(s.message||"unable to remove user");case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(5),r((i=n.t0,{type:K,error:i}));case 21:case"end":return n.stop()}var i}),n,null,[[5,18]])})));return function(e){return n.apply(this,arguments)}}()},Oe=(n(461),n(277)),fe=n.n(Oe),xe=function(){return Object(r.jsx)("div",{className:fe.a.Svg,children:Object(r.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"300.000000pt",height:"300.000000pt",viewBox:"0 0 300.000000 300.000000",preserveAspectRatio:"xMidYMid meet",children:Object(r.jsxs)("g",{fill:"green",transform:"translate(0.000000,300.000000) scale(0.100000,-0.100000)",children:[Object(r.jsx)("path",{className:fe.a.Path,fill:"#FFFFFF",stroke:"#f4cd4e",strokeWidth:"24",d:"M1429 2750 c-23 -7 -196 -111 -514 -310 -55 -34 -206 -128 -335 -208\r\n-434 -267 -491 -304 -507 -329 -16 -23 -15 -28 8 -70 13 -25 34 -56 47 -70 28\r\n-30 42 -29 162 16 203 76 449 135 745 178 172 25 726 25 900 0 281 -41 488\r\n-91 738 -177 64 -22 123 -40 130 -40 29 0 97 101 97 144 0 27 -12 38 -105 95\r\n-38 24 -329 204 -645 399 -316 196 -591 362 -610 369 -40 14 -73 15 -111 3z\r\nm156 -51\r\n"}),Object(r.jsx)("path",{d:"M1554 1601 c-59 -27 -86 -76 -92 -168 l-5 -74 -36 3 c-36 3 -36 3\r\n-39 -39 l-3 -43 40 0 41 0 0 -210 0 -210 60 0 60 0 0 210 0 210 71 0 70 0 -3\r\n43 -3 42 -67 -3 -68 -4 0 34 c0 99 36 136 117 118 25 -6 50 -7 54 -3 4 4 9 26\r\n11 48 3 38 2 39 -37 51 -59 18 -124 16 -171 -5z m178 -29 c22 -22 -8 -39 -54\r\n-33 -46 7 -88 -6 -88 -26 0 -7 -7 -13 -15 -13 -11 0 -15 -11 -16 -37 0 -21 -2\r\n-51 -3 -66 -2 -38 35 -65 89 -63 29 1 41 -3 43 -15 2 -14 -7 -16 -57 -15 -33\r\n0 -58 -1 -55 -3 2 -2 -1 -10 -7 -17 -7 -9 -11 -79 -11 -198 1 -208 2 -206 -65\r\n-198 -9 2 -12 50 -10 196 l2 195 -27 16 c-15 9 -31 15 -35 15 -4 -1 -9 3 -11\r\n9 -2 6 3 11 11 11 34 0 56 34 62 92 7 83 23 115 75 152 20 14 39 17 93 13 38\r\n-2 73 -9 79 -15z"}),Object(r.jsx)("path",{d:"M2701 1599 c-24 -5 -46 -11 -48 -13 -3 -3 -5 -61 -4 -130 1 -83 -2\r\n-126 -8 -126 -6 0 -11 4 -11 9 0 14 -77 41 -118 41 -59 0 -136 -44 -171 -97\r\n-79 -119 -61 -312 37 -393 71 -58 195 -58 258 1 l24 22 0 -26 c0 -26 2 -27 55\r\n-27 l55 0 0 375 c0 294 -3 375 -12 374 -7 -1 -33 -5 -57 -10z m48 -351 c1\r\n-248 -2 -324 -12 -330 -9 -6 -9 -8 1 -8 23 0 12 -18 -15 -23 -20 -4 -35 1 -50\r\n15 -20 19 -23 19 -60 3 -21 -9 -46 -21 -55 -26 -64 -34 -197 28 -214 99 -4 15\r\n-11 33 -17 40 -22 28 9 242 35 242 4 0 8 5 8 10 0 15 30 43 64 60 41 21 144\r\n19 178 -4 26 -17 27 -17 45 3 15 18 18 40 18 128 0 106 0 107 25 113 14 4 30\r\n5 36 3 8 -3 12 -100 13 -325z"}),Object(r.jsx)("path",{d:"M2491 1295 c-43 -34 -72 -72 -81 -105 -12 -45 -19 -161 -9 -154 4 2\r\n13 -12 19 -31 23 -70 98 -100 175 -70 25 9 45 21 45 26 0 6 4 8 9 5 16 -10 23\r\n46 22 163 -1 108 -3 114 -26 133 -14 11 -32 26 -39 34 -17 16 -95 15 -115 -1z\r\nm129 -43 c24 -19 25 -23 25 -138 l0 -118 -34 -23 c-49 -33 -105 -31 -141 5\r\n-78 79 -57 253 35 293 28 12 85 3 115 -19z"}),Object(r.jsx)("path",{d:"M195 1568 c-3 -7 -4 -168 -3 -358 l3 -345 68 -3 67 -3 0 160 0 160\r\n150 0 150 1 0 -160 0 -160 65 0 65 0 0 360 0 360 -65 0 -65 0 0 -150 0 -150\r\n-150 0 -149 0 -3 148 -3 147 -63 3 c-44 2 -64 -1 -67 -10z m97 -13 c10 -4 13\r\n-35 11 -135 -1 -104 2 -133 13 -145 9 -8 21 -15 27 -16 18 -1 281 2 293 3 13\r\n2 14 6 14 146 0 63 5 122 10 133 14 25 69 27 72 2 0 -10 2 -161 2 -335 l1\r\n-316 -30 -5 c-51 -8 -54 2 -53 151 0 120 -2 137 -18 149 -21 16 -290 18 -314\r\n3 -12 -7 -16 -39 -20 -145 -3 -85 -1 -137 5 -139 19 -8 -20 -26 -50 -24 l-30\r\n3 -2 329 c-1 181 0 333 3 338 6 9 45 11 66 3z"}),Object(r.jsx)("path",{d:"M979 1366 c-73 -26 -120 -78 -144 -160 -40 -135 8 -291 105 -341 65\r\n-33 169 -19 220 30 l27 25 11 -24 c13 -29 41 -39 102 -34 43 3 44 4 46 40 1\r\n30 -3 38 -20 40 -20 3 -21 9 -24 208 -1 114 -7 207 -12 210 -5 3 -31 6 -57 5\r\n-41 0 -48 -3 -53 -23 l-5 -24 -19 21 c-35 38 -113 50 -177 27z m155 -44 c29\r\n-16 44 -19 58 -11 10 5 18 14 18 19 0 7 22 8 62 1 4 0 7 -87 7 -193 0 -174 2\r\n-193 19 -212 11 -12 18 -26 15 -33 -6 -17 -72 -4 -95 19 -25 25 -45 23 -91 -9\r\n-31 -22 -50 -27 -91 -26 -28 1 -59 3 -69 5 -25 6 -77 56 -77 74 0 9 -5 12 -12\r\n8 -6 -4 -8 -3 -5 3 3 5 -1 23 -10 39 -22 43 -13 185 16 240 12 23 30 49 39 57\r\n53 48 147 56 216 19z"}),Object(r.jsx)("path",{d:"M1013 1286 c-55 -31 -85 -91 -86 -174 -2 -108 51 -186 125 -185 62 1\r\n80 8 115 43 l36 36 -2 108 c-2 117 -8 134 -55 162 -50 31 -90 34 -133 10z\r\nm131 -37 c25 -20 26 -24 26 -128 0 -71 -4 -112 -12 -123 -43 -52 -118 -64\r\n-161 -24 -62 58 -62 203 0 268 34 36 106 40 147 7z"}),Object(r.jsx)("path",{d:"M1902 1365 c-130 -40 -199 -191 -157 -342 33 -117 113 -177 239 -177\r\n105 1 188 53 229 143 30 65 29 188 0 254 -51 112 -180 163 -311 122z m204 -39\r\nc70 -36 99 -101 98 -217 -1 -71 -6 -95 -25 -128 -26 -46 -90 -94 -130 -95 -15\r\n-1 -25 -5 -22 -10 12 -19 -131 4 -173 29 -76 44 -110 156 -84 278 9 45 21 67\r\n54 101 23 25 56 48 72 51 16 4 34 8 39 10 23 9 142 -4 171 -19z"}),Object(r.jsx)("path",{d:"M1920 1287 c-13 -7 -34 -27 -46 -44 -12 -18 -24 -30 -27 -27 -3 3 -3\r\n-3 0 -15 3 -12 1 -21 -3 -21 -5 0 -7 -35 -4 -77 6 -93 28 -136 85 -167 33 -19\r\n47 -21 85 -14 29 5 53 17 68 33 12 15 22 22 22 18 1 -4 8 10 16 32 18 48 19\r\n150 3 205 -22 74 -125 114 -199 77z m120 -22 c45 -23 64 -69 64 -150 0 -110\r\n-44 -170 -125 -170 -69 0 -112 63 -113 165 -1 134 79 204 174 155z"})]})})})},ge=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(xe,{}),Object(r.jsx)("p",{})]})},ve=Object(l.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath}}),(function(e){return{onAuth:function(t,n){return e(ae(t,n))},onSetAuthRedirectPath:function(){return e({type:T,path:"/"})}}}))((function(e){var t=Object(o.useState)({email:{elementType:"input",elementConfig:{type:"email",placeholder:"name@Hafod.com"},label:"Email Address",valid:!1,value:""},password:{elementType:"input",elementConfig:{type:"password",placeholder:"password"},label:"Password",valid:!1,value:""}}),n=Object(j.a)(t,2),a=n[0],c=n[1],s=function(e,t){var n=!0;return!t||(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),n)},l=[];for(var d in a)l.push({id:d,config:a[d]});var p=l.map((function(e){return Object(r.jsx)(g,{style:{display:"none"},elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,label:e.config.label,changed:function(t){return function(e,t){var n=v(a,Object(u.a)({},t,v(a[t],{value:e.target.value,valid:s(e.target.value.trim(),a[t].validation)})));c(n)}(t,e.id)},shouldValidate:e.config.validation},e.id)}));e.loading&&(p=Object(r.jsx)(ge,{}));var b=null;e.error&&(b=Object(r.jsx)("p",{children:e.error}));var O=null;e.isAuthenticated&&(O=Object(r.jsx)(i.a,{to:e.authRedirectPath}));return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:h.a.Auth,children:[O,Object(r.jsx)("h1",{children:"Sign in"}),Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),a.email.valid&&a.password.valid?e.onAuth(a.email.value,a.password.value):b="One of the fields is blank"},children:[b,p,Object(r.jsx)(m,{btnType:"Submit",children:"Sign In"})]})]})})})),ye=n(28),Se=n(30),Ce=n(33),we=n(34),Te=function(e){Object(Ce.a)(n,e);var t=Object(we.a)(n);function n(){return Object(ye.a)(this,n),t.apply(this,arguments)}return Object(Se.a)(n,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return Object(r.jsx)(i.a,{to:"/"})}}]),n}(o.Component),_e=Object(l.b)(null,(function(e){return{onLogout:function(){return e(re())}}}))(Te),ke=n(54),Pe=n(185),Ee=n.n(Pe),Ie=n(191),Ae=n(232),Ne=n(660),Ue=n(662),Re=n(192),De=n(663),Be=n(146),Me=n.n(Be),Le=(n(337),n(338),n(92)),ze=n.n(Le),Fe=(n(466),n(340),n(341),function(e){var t=Ie.a.Option,n=null,o=new Date,a="DD/MM/YYYY";switch(e.inputType){case"multi-option":n=Object(r.jsx)("div",{className:Me.a.InputType,children:Object(r.jsx)(Ae.a,{onChange:e.onChange,value:e.answerOption,children:e.answerOption})});break;case"textArea":n=Object(r.jsx)("textarea",{style:{maxHeight:"300px",height:"200px",resize:"none"},onChange:e.onChange,rows:"4",cols:"50"});break;case"y/n":n=Object(r.jsxs)("div",{className:Me.a.InputType,children:[Object(r.jsx)(Ae.a,{onChange:e.onChange,value:"yes",children:"Yes"}),Object(r.jsx)(Ae.a,{onChange:e.onChange,value:"no",children:"No"})]});break;case"date":n=Object(r.jsx)(Ne.a,{defaultValue:ze()(o,a),format:a,disabledDate:function(e){return e&&e<ze()(o,a)},onChange:e.onChange});break;case"input":n=Object(r.jsx)("div",{className:Me.a.InputType,children:Object(r.jsx)(Ue.a,{style:{width:"200px",maxHeight:"30px"},onChange:e.onChange,value:e.answerOption,children:e.answerOption})});break;case"multi-checkbox":n=Object(r.jsx)("div",{className:Me.a.InputType,children:Object(r.jsx)(Re.a,{value:e.answerOption,onChange:e.onChange,children:e.answerOption})});break;case"dropdown":n=Object(r.jsx)("div",{className:Me.a.InputType,children:Object(r.jsx)(t,{value:e.answerOption,children:e.answerOption})});break;case"number":n=Object(r.jsx)("div",{className:Me.a.InputType,children:Object(r.jsx)(De.a,{style:{width:"200px",maxHeight:"30px"},max:1e7,min:1e3,defaultValue:1e3,formatter:function(e){return"\xa3 ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\\xa3\s?|(,*)/g,"")},onChange:e.onChange,children:e.answerOption})});break;default:n=null}return n}),Ve=n(661),qe=n(56),Je=(n(343),n(150),function(e){var t=Object(o.useState)([]),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(o.useState)(null),i=Object(j.a)(s,2),l=i[0],u=i[1],d=function(e,t,n){e.preventDefault();var r=Object(ke.a)(a);r.map((function(n){return n.id===t&&(n.answer=[e.target.value])})),r=p(r),c(h(r))},h=function(e){return e.map((function(t){17===t.id&&e.filter((function(e){return e.answer.map((function(n){return"no"===n&&16===e.id?(t.isShown=!1)+(t.shouldValidate=!1)+(t.answer=[]):"yes"===n&&16===e.id&&(t.isShown=!0)+(t.shouldValidate=!0)}))}))})),e},p=function(e){var t;return e.map((function(e){return 1===e.id&&e.answer.map((function(e){return t="I would like to submit a new Simplify idea"===e}))})),t?e.map((function(e){return 1===e.id?(!0===e.isShown)+(!0===e.shouldValidate):e.id<=26?(e.isShown=!1)+(e.shouldValidate=!1)+(e.answer=[]):e.id>=27&&(e.isShown=!0)+(e.shouldValidate=!0)})):e.map((function(e){return e.id<=26?(e.isShown=!0)+(e.shouldValidate=!0):e.id>=27?(e.isShown=!1)+(e.shouldValidate=!1)+(e.answer=[]):null})),e};Object(o.useEffect)((function(){fetch("http://localhost:8080/projects/questionnaire",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.message||"Failed to get fetch");return e.json()})).then((function(e){var t=e.questionnaire.map((function(e){return{id:e.id,question:e.question,isShown:1===e.id,shouldValidate:1===e.id,optionType:e.optionType,options:e.options.map((function(e){return e})),answer:[]}}));c(t)})).catch((function(e){console.log(e)}))}),[]);var b=function(){var t=Object(pe.a)(he.a.mark((function t(n){var r,o,c,s,i,l,j;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!O()){t.next=3;break}return t.abrupt("return");case 3:return u(null),"http://localhost:8080/projects/createProject","POST",r={"Content-Type":"application/json"},o=a.map((function(e){return{id:e.id,question:e.question,answers:e.answer}})),c=m(28,o),s="I would like to submit a new Simplify idea"===m(1,o)?"Simplify":"New Change",i={name:c||"project ".concat(Math.round(1e4*Math.random()+1)),projectType:s,projectSize:"Simplify"!==s?"Large":"",questions:o},t.prev=11,t.next=14,fetch("http://localhost:8080/projects/createProject",{method:"POST",headers:r,body:JSON.stringify({newProject:i})});case 14:return l=t.sent,t.next=17,l.json();case 17:if(j=t.sent,e.history.push("/create-project/success"),l.ok){t.next=23;break}throw new Error(l.message||"Failed to post data");case 23:console.log(j.message);case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(11),console.log(t.t0);case 29:case"end":return t.stop()}}),t,null,[[11,26]])})));return function(e){return t.apply(this,arguments)}}(),m=function(e,t){var n;return t.find((function(t){return t.id===e&&t.answers.map((function(e){return n=e}))})),n},O=function(){var e=!1;return a.filter((function(t){return t.shouldValidate&&0===t.answer.length&&2!==t.id&&u("Please ensure all the necessary questions marked with an asterisk (*) are answered")+(e=!0)})),e},f=function(e,t){var n=null;switch(t){case"multi-option":return n=Object(r.jsxs)(Ae.a.Group,{children:[e.options.map((function(t,n){return Object(r.jsx)(Fe,{onChange:function(t){return d(t,e.id)},inputType:e.optionType,answerOption:t},n)})),e.options.map((function(t){return"other"===t&&Object(r.jsx)(Fe,{onChange:function(t){return d(t,e.id)},inputType:"input"},e.id)}))]});case"textArea":return n=Object(r.jsx)(Fe,{onChange:function(t){return d(t,e.id)},inputType:e.optionType});case"multi-checkbox":return n=Object(r.jsx)(Re.a.Group,{children:e.options.map((function(t,n){return Object(r.jsx)(Fe,{onChange:function(t){return d(t,e.id)},inputType:e.optionType,answerOption:t},n)}))});case"date":return n=Object(r.jsx)(Fe,{onChange:function(t,n){return function(e,t,n){var r=Object(ke.a)(a);r.map((function(t){return t.id===e&&(t.answer=[n])})),c(r)}(e.id,0,n)},inputType:e.optionType});case"input":return n=Object(r.jsx)(Fe,{onChange:function(t){return d(t,e.id)},inputType:e.optionType});case"y/n":return n=Object(r.jsx)(Ae.a.Group,{children:Object(r.jsx)(Fe,{onChange:function(t){return d(t,e.id)},inputType:e.optionType})});case"dropdown":return n=Object(r.jsx)(Ie.a,{defaultValue:"",style:{minWidth:"300px"},onChange:"",children:e.options.map((function(t,n){return Object(r.jsx)(Fe,{inputType:e.optionType,answerOption:t},n)}))});case"number":return n=Object(r.jsx)(Fe,{onChange:function(t){return d(t,e.id)},inputType:e.optionType});default:return n}};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:Ee.a.CreateProject,children:[Object(r.jsx)("h3",{style:{display:"inline-block",width:"40rem"},children:"This is a form to submit any ideas you may have not all parts of the form need to be filled out"}),l&&Object(r.jsx)("h4",{style:{border:"1px solid #a33a3a",width:"40rem",display:"inline-block",background:"#ffe0e0",color:"#ba3939"},children:l}),Object(r.jsx)(Ve.a,{children:a.map((function(e){return!0===e.isShown&&Object(r.jsxs)("div",{className:Ee.a.Box,children:[Object(r.jsx)("h2",{children:e.question}),f(e,e.optionType)]},e.id)}))}),Object(r.jsx)(qe.a,{style:{background:"green",borderColor:"none"},color:"green",type:"primary",className:Ee.a.Button,onClick:function(e){return b(e)+window.scrollTo({top:0,behavior:"smooth"})},children:"Submit"}),Object(r.jsx)("br",{})]})})}),Ge=n(389),He=n.n(Ge),We=n(656),Ye=n(659),Qe=n(668),Ke=n(669),Xe=n(670),Ze=n(664),$e=n(666),et=n(667),tt=Ve.a.Item,nt=Ie.a.Option,rt=function(e){Object(Ce.a)(n,e);var t=Object(we.a)(n);function n(){var e;Object(ye.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onSubmit=function(t){e.props.onSubmit(t),e.props.hideModal()},e}return Object(Se.a)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.hideModal;return Object(r.jsx)(Ze.a,{width:500,title:"Add New User",onCancel:n,destroyOnClose:!0,visible:t,footer:[Object(r.jsx)(qe.a,{onClick:n,children:"Cancel"},"Cancel"),Object(r.jsx)(qe.a,{type:"primary",form:"AddUserForm",htmlType:"submit",children:"Add"},"submit")],children:Object(r.jsxs)(Ve.a,{id:"AddUserForm",layout:"vertical",onFinish:this.onSubmit,children:[Object(r.jsx)(tt,{label:"First Name",name:"firstName",rules:[{whitespace:!0,required:!0,message:"Please enter the new user's first name"}],children:Object(r.jsx)(Ue.a,{placeholder:"Ex. Wesley"})}),Object(r.jsx)(tt,{label:"Surname",name:"surname",rules:[{whitespace:!0,required:!0,message:"Please enter the user's surname"}],children:Object(r.jsx)(Ue.a,{placeholder:"Ex. Snipes"})}),Object(r.jsx)(tt,{label:"Email",name:"email",rules:[{required:!0,message:"Please enter the new user's email"},{pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,message:"Sorry, please enter a valid email"}],children:Object(r.jsx)(Ue.a,{prefix:Object(r.jsx)($e.a,{}),placeholder:"Ex. Wesley.Snipes@gmail.com"})}),Object(r.jsx)(tt,{label:"Password",name:"password",rules:[{required:!0,message:"Please enter the new user's password"}],children:Object(r.jsx)(Ue.a,{prefix:Object(r.jsx)(et.a,{}),placeholder:"The User's Password"})}),Object(r.jsx)(tt,{label:"Role",extra:"The role defines what permissions the user will have",name:"role",rules:[{required:!0,message:"Please select a user role"}],children:Object(r.jsxs)(Ie.a,{children:[Object(r.jsx)(nt,{value:"manager",children:"Project Manager"},"ProjectManager"),Object(r.jsx)(nt,{value:"employee",children:"Employee"},"employee"),Object(r.jsx)(nt,{value:"transformationTeam",children:"Transformation Team"},"TransformationTeam")]})}),Object(r.jsx)(tt,{label:"Initial Project",extra:"You can add and change projects they are assigned to afterwards from the Projects dashboard",name:"initialProject",children:Object(r.jsxs)(Ie.a,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:[Object(r.jsx)(nt,{value:null,children:"None"},"None"),this.props.switchItems]})})]})})}}]),n}(a.a.Component),ot=Ve.a.Item,at=Ie.a.Option,ct=function(e){Object(Ce.a)(n,e);var t=Object(we.a)(n);function n(){var e;Object(ye.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onSubmit=function(t){var n;t.userId=null===(n=e.props.record)||void 0===n?void 0:n.id,e.props.onSubmit(t),e.props.hideModal()},e}return Object(Se.a)(n,[{key:"render",value:function(){var e,t,n,o,a=this.props,c=a.visible,s=a.hideModal;return Object(r.jsx)(Ze.a,{width:500,title:"Edit User",onCancel:s,destroyOnClose:!0,visible:c,footer:[Object(r.jsx)(qe.a,{onClick:s,children:"Cancel"},"Cancel"),Object(r.jsx)(qe.a,{type:"primary",form:"EditUserForm",htmlType:"submit",children:"Submit"},"submit")],children:Object(r.jsxs)(Ve.a,{id:"EditUserForm",layout:"vertical",onFinish:this.onSubmit,children:[Object(r.jsx)(ot,{label:"First Name",name:"firstName",initialValue:null===(e=this.props.record)||void 0===e?void 0:e.firstName,rules:[{whitespace:!0,required:!0,message:"Please enter the new user's first name"}],children:Object(r.jsx)(Ue.a,{placeholder:"Ex. Wesley"})}),Object(r.jsx)(ot,{label:"Surname",name:"surname",initialValue:null===(t=this.props.record)||void 0===t?void 0:t.surname,rules:[{whitespace:!0,required:!0,message:"Please enter the user's surname"}],children:Object(r.jsx)(Ue.a,{placeholder:"Ex. Snipes"})}),Object(r.jsx)(ot,{label:"Email",name:"email",initialValue:null===(n=this.props.record)||void 0===n?void 0:n.email,rules:[{required:!0,message:"Please enter the new user's email"},{pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,message:"Sorry, please enter a valid email"}],children:Object(r.jsx)(Ue.a,{prefix:Object(r.jsx)($e.a,{}),placeholder:"Ex. Wesley.Snipes@gmail.com"})}),Object(r.jsx)(ot,{label:"Role",extra:"The role defines what permissions the user will have",name:"role",initialValue:null===(o=this.props.record)||void 0===o?void 0:o.role,rules:[{required:!0,message:"Please select a user role"}],children:Object(r.jsxs)(Ie.a,{children:[Object(r.jsx)(at,{value:"manager",children:"Project Manager"},"ProjectManager"),Object(r.jsx)(at,{value:"employee",children:"Employee"},"employee"),Object(r.jsx)(at,{value:"transformationTeam",children:"Transformation Team"},"TransformationTeam")]})})]})})}}]),n}(a.a.Component),st=(Ve.a.Item,Ie.a.Option,function(e){Object(Ce.a)(n,e);var t=Object(we.a)(n);function n(){var e;Object(ye.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onSubmit=function(){var t;e.props.onSubmit({userId:null===(t=e.props.record)||void 0===t?void 0:t.id}),e.props.hideModal()},e}return Object(Se.a)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.hideModal;return Object(r.jsxs)(Ze.a,{width:250,title:"Are you sure you want to delete this user?",onCancel:n,destroyOnClose:!0,visible:t,footer:[],children:[Object(r.jsx)("div",{style:{textAlign:"left",width:"50%",display:"inline-block"},children:Object(r.jsx)(qe.a,{onClick:n,children:"Cancel"},"Cancel")}),Object(r.jsx)("div",{style:{textAlign:"right",width:"50%",display:"inline-block"},children:Object(r.jsx)(qe.a,{type:"primary",danger:!0,onClick:this.onSubmit,children:Object(r.jsx)("b",{children:"Confirm"})},"Confirm")})]})}}]),n}(a.a.Component)),it=Ie.a.Option,lt={transformationTeam:"Transformation Team",manager:"Project Manager",employee:"Employee"},ut=function(e){Object(Ce.a)(n,e);var t=Object(we.a)(n);function n(e){var o;return Object(ye.a)(this,n),(o=t.call(this,e)).refreshUsers=function(){return o.props.dispatch(ce())},o.state={addUserModalVisible:!1,editUserModalVisible:!1,deleteUserModalVisible:!1,userToEdit:null,projectId:null},o.showAddUserModal=function(){return o.setState({addUserModalVisible:!0})},o.hideAddUserModal=function(){return o.setState({addUserModalVisible:!1})},o.showEditUserModal=function(e){return o.setState({editUserModalVisible:!0,userToEdit:e})},o.hideEditUserModal=function(){return o.setState({editUserModalVisible:!1,userToEdit:null})},o.showDeleteUserModal=function(e){return o.setState({deleteUserModalVisible:!0,userToEdit:e})},o.hideDeleteUserModal=function(){return o.setState({deleteUserModalVisible:!1,userToEdit:null})},o.submitUser=function(e){o.props.dispatch(se(e))},o.editUser=function(e){o.props.dispatch(ie(e))},o.deleteUser=function(e){o.props.dispatch(le(e))},o.onSwitchChange=function(e){o.setState({projectId:e})},o.columns=[{title:"First name",key:"Firstname",render:function(e,t){return Object(r.jsx)("p",{children:t.firstName},t.firstName)}},{title:"Surname",key:"Surname",render:function(e,t){return Object(r.jsx)("p",{children:t.surname},t.surname)}},{title:"Email",key:"Email",render:function(e,t){return Object(r.jsx)("p",{children:t.email},t.email)}},{title:"Role",key:"Role",width:"15%",render:function(e,t){return Object(r.jsx)("p",{children:lt[t.role]},t.role)}},{title:"Action",key:"action",width:"20%",render:function(e,t){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("span",{children:[Object(r.jsxs)(qe.a,{type:"link",onClick:function(){return o.showEditUserModal(t)},children:[Object(r.jsx)(Qe.a,{})," Edit"]}),Object(r.jsx)(We.a,{type:"vertical"}),Object(r.jsxs)(qe.a,{type:"link",onClick:function(){return o.showDeleteUserModal(t)},children:[Object(r.jsx)(Ke.a,{})," Delete"]})]})})}}],o}return Object(Se.a)(n,[{key:"componentDidMount",value:function(){this.refreshUsers()}}]),Object(Se.a)(n,[{key:"render",value:function(){var e=this.props,t=e.users,n=e.loading,o=this.state.projectId,a=[],c=null,s=null;if(1!==t.length){var i;a=[];for(var l=0,u=Object.entries(t);l<u.length;l++){var d=Object(j.a)(u[l],2),h=d[0],p=d[1];a.push(Object(r.jsx)(it,{value:h,children:null===p||void 0===p?void 0:p.project.name},h))}c=null===(i=t[o])||void 0===i?void 0:i.users,null==o&&0!==t.length&&this.setState({projectId:Object.keys(t)[0]})}else c=t,s=Object(r.jsx)("h3",{children:"There are no active projects for which to display users."});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:He.a.Users,children:[Object(r.jsx)("h1",{children:"Project Users"}),s,Object(r.jsx)("div",{style:{textAlign:"left",width:"50%",display:"inline-block"},children:Object(r.jsx)(Ie.a,{showSearch:!0,style:{width:200},optionFilterProp:"children",onChange:this.onSwitchChange,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:o,children:a})}),Object(r.jsx)("div",{style:{textAlign:"right",width:"50%",display:"inline-block"},children:Object(r.jsx)(qe.a,{style:{marginBottom:"10px"},type:"primary",icon:Object(r.jsx)(Xe.a,{}),onClick:this.showAddUserModal,children:Object(r.jsx)("b",{children:" Add User"})})}),Object(r.jsx)(Ye.a,{bordered:!0,dataSource:c,columns:this.columns,scroll:{x:"100%"},loading:n})]}),Object(r.jsx)(rt,{visible:this.state.addUserModalVisible,hideModal:this.hideAddUserModal,projectId:o,switchItems:a,onSubmit:this.submitUser}),Object(r.jsx)(ct,{visible:this.state.editUserModalVisible,hideModal:this.hideEditUserModal,record:this.state.userToEdit,onSubmit:this.editUser}),Object(r.jsx)(st,{visible:this.state.deleteUserModalVisible,hideModal:this.hideDeleteUserModal,record:this.state.userToEdit,onSubmit:this.deleteUser})]})}}]),n}(a.a.Component),jt=Object(l.b)((function(e){return{users:e.users.users,loading:e.users.loading}}))(ut),dt=n(418),ht=(n(519),n(342),n(242)),pt=n.n(ht),bt=(n(529),Object(l.b)((function(e){return{assignUserError:e.assignUser.error,error:e.auth.error,isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath,role:e.auth.role,users:e.assignUser.users}}),(function(e){return{addUserToProject:function(t,n){return e(function(e,t){return function(){var n=Object(pe.a)(he.a.mark((function n(r){var o,a,c,s;return he.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:G}),o=localStorage.getItem("token"),a={Authorization:"Bearer "+o,"Content-Type":"application/json"},n.prev=5,n.next=8,fetch("http://localhost:8080/users/addUserToProject",{method:"POST",headers:a,body:JSON.stringify({projectId:t,userId:e})});case 8:return c=n.sent,n.next=11,c.json();case 11:if(s=n.sent,c.ok){n.next=16;break}throw new Error(s.message||"Failed to add users to project");case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(5),r((i=n.t0,{type:W,error:i}));case 21:case"end":return n.stop()}var i}),n,null,[[5,18]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},getProjectUsers:function(t){return e(function(e){return function(){var t=Object(pe.a)(he.a.mark((function t(n){var r,o,a,c;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:V}),r=localStorage.getItem("token"),o={Authorization:"Bearer "+r,"Content-Type":"application/json"},t.prev=5,t.next=8,fetch("http://localhost:8080/users/projectUsers",{method:"POST",headers:o,body:JSON.stringify({projectId:e})});case 8:return a=t.sent,t.next=11,a.json();case 11:if(c=t.sent,a.ok){t.next=16;break}throw new Error(c.message||"unable to fetch");case 16:n(be(c.users));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(5),n((s=t.t0.message,{type:J,error:s}));case 22:case"end":return t.stop()}var s}),t,null,[[5,19]])})));return function(e){return t.apply(this,arguments)}}()}(t))},removeUserFromProject:function(t,n){return e(me(t,n))},setProjectUsers:function(t){return e(be(t))}}}))((function(e){var t,n=e.addUserToProject,a=e.getProjectUsers,c=e.removeUserFromProject,s=e.setProjectUsers,i=Object(o.useState)(!1),l=Object(j.a)(i,2),u=l[0],d=l[1],h=Object(o.useState)(!1),p=Object(j.a)(h,2),b=p[0],m=p[1],f=Object(o.useState)([]),x=Object(j.a)(f,2),g=x[0],v=x[1],y=Object(o.useState)(!1),S=Object(j.a)(y,2),C=S[0],w=S[1],T=Object(o.useState)(null),_=Object(j.a)(T,2),k=_[0],P=_[1],E=Object(o.useState)([]),I=Object(j.a)(E,2),A=I[0],N=I[1],U=Ue.a.Search,R=e.location.pathname.split("/").pop(-1);Object(o.useEffect)((function(){var t=function(){var t=Object(pe.a)(he.a.mark((function t(){var n,r,o,a,c;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,n="".concat("https://project-management-001-api.herokuapp.com","/users/employees"),"POST",r=localStorage.getItem("token"),o={Authorization:"Bearer "+r,"Content-Type":"application/json"},t.next=8,fetch(n,{method:"POST",headers:o,body:JSON.stringify({role:e.role})});case 8:return a=t.sent,t.next=11,a.json();case 11:if(c=t.sent,a.ok){t.next=16;break}throw new Error(a.message||"No users found!");case 16:P(Object(ke.a)(c.users));case 17:m(!1),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(){return t.apply(this,arguments)}}();"employee"!==e.role&&t(),a(R)}),[a,e.role]),t=e.users;var D={selectedRowKeys:g,onChange:function(e){v(e)},getCheckboxProps:function(e){return{disabled:t.map((function(t){return t.key===e.key})).includes(!0)}}},B=g.length>0;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:pt.a.AssignProjects,children:[Object(r.jsx)("h2",{children:" Employees assigned to this project"}),t.map((function(n){return Object(r.jsx)(dt.a,{onClose:function(){return e=n.key,c(e,R),t.map((function(n,r){return e===n.key?t.splice(r,1):n})),void s(t.flat());var e},closable:"transformationTeam"===e.role||"manager"===e.role&&"transformationTeam"!==n.role,children:"".concat(n.firstName," ").concat(n.surname)},n.key)}))]}),Object(r.jsx)("div",{className:pt.a.User,children:"employee"!==e.role&&Object(r.jsx)(U,{placeholder:"Search",onSearch:function(e){var t=k.filter((function(t){return Object.keys(t).some((function(n){return String(t[n]).toLowerCase().includes(e.toLowerCase())}))}));N(t),w(!0)},enterButton:!0,allowClear:!0,style:{width:300,marginBottom:8,marginRight:8}})}),Object(r.jsxs)("div",{className:pt.a.Button,children:["employee"!==e.role&&Object(r.jsxs)(qe.a,{shape:"round",onClick:function(){return function(){d(!0);var e=Object(ke.a)(t),r=g.map((function(e){var t;return Object(ke.a)(k).map((function(n){return n.key===e?t=n:t})),t}));e.push.apply(e,Object(ke.a)(r)),n(g,R),s(e),v([]),d(!1)}()},type:"primary",loading:u,disabled:!B,children:[" ","Assign to Project"," "]}),Object(r.jsx)("span",{style:{marginLeft:8},children:B?"Selected ".concat(g.length," users"):""})]}),"employee"!==e.role?Object(r.jsx)(Ye.a,{rowSelection:Object(O.a)({},D),rowClassName:function(e){return{"disabled-row":t.map((function(t){return t.key===e.key})).includes(!0)}},dataSource:C?A:k,columns:[{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Surname",dataIndex:"surname",key:"surname"},{title:"Role",dataIndex:"role",key:"role"},{title:"Email",dataIndex:"email",key:"email"}],loading:b,pagination:{position:["bottomCenter"],pageSizeOptions:[5,10,20,30,50,100]}}):null]})}))),mt=n(47),Ot=n(91),ft=n.n(Ot),xt=n(169),gt=(n(530),n(532),n(534),Object(l.b)((function(e){return{role:e.auth.role,userId:e.auth.userId}}),(function(e){return{removeUserFromProject:function(t,n){return e(me(t,n))}}}))((function(e){var t=Object(o.useState)([]),n=Object(j.a)(t,2),a=n[0],c=n[1],s=e.removeUserFromProject;return Object(o.useEffect)((function(){var t=e.userId,n=e.role,r="".concat("https://project-management-001-api.herokuapp.com","/projects/getMyProjects");fetch(r,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,role:n})}).then((function(e){if(422===e.status)throw new Error("Error");if(200!==e.status&&201!==e.status)throw new Error("Error");return e.json()})).then((function(e){console.log("projects consoled",e);var t=e.projects.flatMap((function(e){return e}));c(t)})).catch((function(e){console.log("error occur",e)}))}),[]),Object(r.jsxs)("div",{className:ft.a.Projects,children:[Object(r.jsx)("h1",{children:"All Projects1"}),Object(r.jsxs)("table",{className:ft.a.Table,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Project Name"}),Object(r.jsx)("th",{children:"Manager Name"}),Object(r.jsx)("th",{children:"Project Status"}),Object(r.jsx)("th",{children:"Project Size"}),Object(r.jsx)("th",{children:"Quick Win"}),Object(r.jsx)("th",{children:"Project Type"}),Object(r.jsx)("th",{children:"Users"}),Object(r.jsx)("th",{children:"Project Created At"})]})}),Object(r.jsx)("tbody",{children:a.map((function(t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsxs)(mt.b,{to:"/projectinfo/".concat(t.id),children:[" ",t.name]})}),Object(r.jsx)("td",{children:t.managerName?"".concat(t.managerName):"No Manager Assigned"}),Object(r.jsx)("td",{children:t.projectStatus}),Object(r.jsx)("td",{children:t.projectSize}),Object(r.jsx)("td",{children:t.quickWin?"True":"False"}),Object(r.jsx)("td",{children:t.projectType}),Object(r.jsxs)("td",{children:[t.users.map((function(n){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(xt.a,{placement:"top",title:n.role,children:Object(r.jsx)(dt.a,{onClose:function(){return s(n.id,t.id)},closable:"transformationTeam"===e.role||"manager"===e.role&&"transformationTeam"!==n.role,children:"".concat(n.firstName," ").concat(n.surname)})},Math.random(1,39393393))})})),"employee"!==e.role&&Object(r.jsx)("div",{style:{marginTop:"10px"},className:ft.a.antBtn,children:Object(r.jsx)(mt.b,{to:"/assign-projects/".concat(t.id),children:"Add users"})})]}),Object(r.jsx)("td",{children:t.createdAt})]})}))})]})]})}))),vt=Ve.a.Item,yt=Ie.a.Option,St=(a.a.Component,Object(l.b)((function(e){return{role:e.auth.role,userId:e.auth.userId}}))((function(e){var t=Object(o.useState)(""),n=Object(j.a)(t,2),a=(n[0],n[1]),c=Object(o.useState)(null),s=Object(j.a)(c,2),i=s[0],l=s[1],u=Object(o.useState)(!1),d=Object(j.a)(u,2),h=d[0],p=d[1],b=Object(o.useState)(""),m=Object(j.a)(b,2),O=m[0],f=m[1],x=Object(o.useState)(""),g=Object(j.a)(x,2),v=g[0],y=g[1],S=Object(o.useState)(""),C=Object(j.a)(S,2),w=C[0],T=C[1],_=Object(o.useState)(""),k=Object(j.a)(_,2),P=k[0],E=k[1],I=Object(o.useState)(""),A=Object(j.a)(I,2),N=A[0],U=A[1],R=Object(o.useState)(""),D=Object(j.a)(R,2),B=D[0],M=D[1];console.log("this is the propssssssss"+e);Ve.a.Item,Ie.a.Option;Object(o.useEffect)((function(){var t=e.match.params.id;a(t);var n="".concat("https://project-management-001-api.herokuapp.com","/projects/projectDetails/")+t;fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(422===e.status)throw new Error("Error");if(200!==e.status&&201!==e.status)throw new Error("Error");return e.json()})).then((function(e){console.log("res data project info",e),l(e.data),p(!0)})).catch((function(e){console.log("error occur",e)}))}),[]);var L=function(t){var n=e.match.params.id;a(n);var r="http://localhost:8080/projects/".concat(t,"/ ")+n;fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(422===e.status)throw new Error("Error");if(200!==e.status&&201!==e.status)throw new Error("Error");return console.log("check1"),e.json()})).then(window.location.reload()).catch((function(e){console.log("error occur",e)}))};console.log(e.role);var z=Object(o.useState)(!1),F=Object(j.a)(z,2),V=F[0],q=F[1],J=Object(o.useState)(!1),G=Object(j.a)(J,2),H=G[0],W=G[1],Y=Object(o.useState)(!1),Q=Object(j.a)(Y,2),K=Q[0],X=Q[1];return Object(r.jsxs)("div",{className:ft.a.Projects,children:[Object(r.jsx)("h1",{children:"Project Details"}),Object(r.jsxs)("table",{className:ft.a.Table,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Project Name"}),Object(r.jsx)("th",{children:"Manager Name"}),Object(r.jsx)("th",{children:"Proect Status"}),Object(r.jsx)("th",{children:"Project Size"}),Object(r.jsx)("th",{children:"Quick Win"}),Object(r.jsx)("th",{children:"Project Type"}),Object(r.jsx)("th",{children:"Project Created At"}),Object(r.jsx)("th",{children:"Score Board"}),Object(r.jsx)("th",{children:"Business Case"})]})}),Object(r.jsx)("tbody",{children:h?Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:[" ",i.name]}),Object(r.jsx)("td",{children:i.managerName}),Object(r.jsx)("td",{children:i.projectStatus}),Object(r.jsx)("td",{children:i.projectSize}),Object(r.jsx)("td",{children:i.quickWin}),Object(r.jsx)("td",{children:i.projectType}),Object(r.jsx)("td",{children:i.createdAt}),Object(r.jsxs)("td",{children:[Object(r.jsx)(mt.b,{to:"/scoreboard/".concat(i.id),children:"ScoreBoard"})," "]}),Object(r.jsxs)("td",{children:[Object(r.jsx)(mt.b,{to:"/businessCase/".concat(i.id),children:"Business Case"})," "]})]},i.id):Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:"8",children:"Loading"})})})]}),Object(r.jsx)("div",{className:ft.a.ProjectInfo,style:{float:"right"},children:"transformationTeam"===e.role&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ze.a,{title:"Edit project ",visible:K,onOk:function(){X(!1),function(t){console.log("goes to edit project");var n=e.match.params.id;a(n);var r="http://localhost:8080/projects/".concat(t,"/")+n;fetch(r,{method:"PUT",header:{"Content-Type":"application/json"},body:{projectName:O,managerName:v,projectStatus:w,projectSize:P,quickWin:N,projectType:B}}).then((function(e){if(422===e.status)throw new Error("Error");if(200!==e.status&&201!==e.status)throw new Error("Couldnt edit project");return console.log("check edit is working"),e.json().then((function(e){console.log("this is the jsooooooooon"+e)})),e.json()})).catch((function(e){console.log("error occurred",e)}))}("editProject")},onCancel:function(){X(!1)},children:Object(r.jsxs)("form",{children:[Object(r.jsx)("input",{type:"text",placeholder:"projectName",value:O,onChange:function(e){f(e.target.value)}}),Object(r.jsx)("input",{type:"text",placeholder:"managerName",value:v,onChange:function(e){y(e.target.value)}}),Object(r.jsx)("input",{type:"text",placeholder:"projectStatus",value:w,onChange:function(e){T(e.target.value)}}),Object(r.jsx)("input",{type:"text",placeholder:"projectSize",value:P,onChange:function(e){E(e.target.value)}}),Object(r.jsx)("input",{type:"text",placeholder:"quick win",value:N,onChange:function(e){U(e.target.value)}}),Object(r.jsx)("input",{type:"text",placeholder:"projectType",value:B,onChange:function(e){M(e.target.value)}})]})}),Object(r.jsx)(qe.a,{type:"primary",onClick:function(){X(!0)},children:"Edit"}),"\xa0\xa0\xa0"," ",Object(r.jsx)(Ze.a,{title:"Delete project ",visible:V,onOk:function(){q(!1),L("deleteProject")},onCancel:function(){q(!1)},children:Object(r.jsx)("p",{children:"Are you sure you want to delete this project ?"})}),Object(r.jsx)(qe.a,{type:"primary",onClick:function(){q(!0)},danger:!0,children:"Delete"}),Object(r.jsx)(Ze.a,{title:"Archive",visible:H,onOk:function(){W(!1),L("archiveProject")},onCancel:function(){W(!1)},children:Object(r.jsx)("p",{children:"Are you sure you want to archive this project ?"})}),"\xa0\xa0\xa0"," ",Object(r.jsx)(qe.a,{type:"primary",onClick:function(){W(!0)},children:"Archive"})]})})]})}))),Ct=n(131),wt=n.n(Ct),Tt=n(392),_t=n(243),kt=function(e){var t=Object(o.useState)(null),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(o.useState)(!1),i=Object(j.a)(s,2),l=i[0],u=i[1],d=[{tasks:"Tasks","hot dog":38,"hot dogColor":"hsl(32, 70%, 50%)","Out Of Control":13,"Out Of ControlColor":"hsl(85, 70%, 50%)","In Control":8,"In ControlColor":"hsl(42, 70%, 50%)",Critical:12,CriticalColor:"hsl(164, 70%, 50%)"}];return Object(o.useEffect)((function(){!function(){var t=e.location.pathname.split("/").pop(-1),n="".concat("https://project-management-001-api.herokuapp.com","/scoreboards/getScoreBoard");fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:t})}).then((function(e){if(!e.ok)throw new Error("Error");return e.json()})).then((function(e){var t;(t=console).log.apply(t,Object(ke.a)(e.data)),c(e.data),u(!0)})).catch((function(e){console.log("error occur",e)}))}()}),[]),Object(r.jsxs)("div",{className:wt.a.Scoreboard,children:[Object(r.jsx)(Tt.a,{children:Object(r.jsx)("style",{children:"body { background-color: rgba(242, 242, 242, 1) }"})}),Object(r.jsx)(m,{clicked:e.history.goBack,style:{marginLeft:"30px"},btnType:"Back",children:"< Back"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("h1",{children:"Project Scoreboard"}),Object(r.jsxs)("div",{className:wt.a.RagCharts,children:[Object(r.jsxs)("div",{style:{height:"230px"},className:wt.a.RagChart,children:[Object(r.jsx)("h3",{children:"Risks"}),Object(r.jsx)(_t.a,{data:d,keys:["Critical","Out Of Control","In Control","fries"],indexBy:"tasks",margin:{top:20,right:10,bottom:130,left:10},layout:"horizontal",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"In Control"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Tasks",legendPosition:"middle",legendOffset:32},axisLeft:null,labelTextColor:{from:"color",modifiers:[["darker","1.6"]]},legends:[{dataFrom:"keys",anchor:"bottom",direction:"row",justify:!1,translateX:19,translateY:75,itemsSpacing:10,itemWidth:90,itemHeight:27,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})]}),Object(r.jsxs)("div",{style:{height:"230px"},className:wt.a.RagChart,children:[Object(r.jsx)("h3",{children:"Objectives"}),Object(r.jsx)(_t.a,{data:d,keys:["Critical","Out Of Control","In Control","fries"],indexBy:"tasks",margin:{top:20,right:10,bottom:130,left:10},layout:"horizontal",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"In Control"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Tasks",legendPosition:"middle",legendOffset:32},axisLeft:null,labelTextColor:{from:"color",modifiers:[["darker","1.6"]]},legends:[{dataFrom:"keys",anchor:"bottom",direction:"row",justify:!1,translateX:19,translateY:75,itemsSpacing:10,itemWidth:90,itemHeight:27,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})]})]}),Object(r.jsxs)("div",{className:wt.a.RagCharts,children:[Object(r.jsxs)("div",{style:{height:"230px"},className:wt.a.RagChart,children:[Object(r.jsx)("h3",{children:"Actions"}),Object(r.jsx)(_t.a,{data:d,keys:["Critical","Out Of Control","In Control","fries"],indexBy:"tasks",margin:{top:20,right:10,bottom:130,left:10},layout:"horizontal",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"In Control"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Tasks",legendPosition:"middle",legendOffset:32},axisLeft:null,labelTextColor:{from:"color",modifiers:[["darker","1.6"]]},legends:[{dataFrom:"keys",anchor:"bottom",direction:"row",justify:!1,translateX:19,translateY:75,itemsSpacing:10,itemWidth:90,itemHeight:27,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})]}),Object(r.jsx)("div",{style:{height:"230px"},className:wt.a.RagChart,children:Object(r.jsx)("h3",{children:"Something else"})})]}),Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Action Narrative "}),Object(r.jsx)("th",{children:"Objective Narrative"}),Object(r.jsx)("th",{children:"Risk Narrative"})]})}),Object(r.jsx)("tbody",{children:l?a.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.actionNarrative}),Object(r.jsx)("td",{children:e.objectiveNarrative}),Object(r.jsx)("td",{children:e.riskNarrative})]},e.id)})):Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:"3",children:"Loading"})})})]})]})},Pt=function(e){var t=Object(o.useState)(""),n=Object(j.a)(t,2),a=(n[0],n[1]),c=Object(o.useState)(null),s=Object(j.a)(c,2),i=s[0],l=s[1],u=Object(o.useState)(!1),d=Object(j.a)(u,2),h=d[0],p=d[1];return Object(o.useEffect)((function(){var t=e.match.params.id;a(t);var n="".concat("https://project-management-001-api.herokuapp.com","/businessCase/getBusinessCase/")+t;fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(422===e.status)throw new Error("Error");if(200!==e.status&&201!==e.status)throw new Error("Error");return e.json()})).then((function(e){l(e.data),p(!0)})).catch((function(e){console.log("error occur",e)}))}),[]),console.log(i),Object(r.jsxs)("div",{className:ft.a.Projects,children:[Object(r.jsx)("h1",{children:"All Business Case "}),Object(r.jsxs)("table",{className:ft.a.Table,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Benefit"}),Object(r.jsx)("th",{children:"Benefit Timescale"}),Object(r.jsx)("th",{children:"Business Option"}),Object(r.jsx)("th",{children:"Costomer Impact And Engagement"}),Object(r.jsx)("th",{children:"Diversity And Inclusion Considerations "}),Object(r.jsx)("th",{children:"Duration"}),Object(r.jsx)("th",{children:"Estimated Cost"}),Object(r.jsx)("th",{children:"Executive Summary"}),Object(r.jsx)("th",{children:"Investment Appraisal"}),Object(r.jsx)("th",{children:"Major Risks"}),Object(r.jsx)("th",{children:"Negative Impact"}),Object(r.jsx)("th",{children:"Reason"}),Object(r.jsx)("th",{children:"Sponsor"})]})}),Object(r.jsx)("tbody",{children:h?i.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.benefit}),Object(r.jsx)("td",{children:e.benefitTimescale}),Object(r.jsx)("td",{children:e.businessOption}),Object(r.jsx)("td",{children:e.customerImpactAndEngagement}),Object(r.jsx)("td",{children:e.diversityAndInclusionConsiderations}),Object(r.jsx)("td",{children:e.duration}),Object(r.jsx)("td",{children:e.estimatedCost}),Object(r.jsx)("td",{children:e.executiveSummary}),Object(r.jsx)("td",{children:e.investmentAppraisal}),Object(r.jsx)("td",{children:e.majorRisks}),Object(r.jsx)("td",{children:e.negativeImpact}),Object(r.jsx)("td",{children:e.reason}),Object(r.jsx)("td",{children:e.sponsor})]},e.id)})):Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:"3",children:"Loading"})})})]})]})},Et=n(658),It=(n(275),function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.project.id}),Object(r.jsx)("td",{children:e.project.name}),Object(r.jsx)("td",{children:e.project.projectScore}),Object(r.jsx)("td",{children:"A new application to speed the process"}),Object(r.jsx)("td",{children:"04/02/2021"}),Object(r.jsx)("td",{children:e.project.managerName}),Object(r.jsx)("td",{children:e.project.transformationLead}),Object(r.jsx)("td",{children:e.project.projectSize}),Object(r.jsx)("td",{children:e.project.projectType}),Object(r.jsx)("td",{children:Object(r.jsx)(mt.b,{to:"/projectinfo/"+e.project.id,children:Object(r.jsx)(qe.a,{children:"View"})})})]})}),At=function(e){Object(Ce.a)(n,e);var t=Object(we.a)(n);function n(e){var r;return Object(ye.a)(this,n),(r=t.call(this,e)).state={activeProjects:[],pendingProjects:[]},r}return Object(Se.a)(n,[{key:"componentDidMount",value:function(){var e=this;je.a.get("".concat("https://project-management-001-api.herokuapp.com","/projects/getAllActiveProjects")).then((function(t){e.setState({activeProjects:t.data.data})})).catch((function(e){console.log(e)})),je.a.get("".concat("https://project-management-001-api.herokuapp.com","/projects/getAllPendingProjects")).then((function(t){e.setState({pendingProjects:t.data.data})})).catch((function(e){console.log(e)}))}},{key:"projectList",value:function(){return this.state.activeProjects.sort((function(e,t){return t.priorityScore-e.priorityScore})).map((function(e){return Object(r.jsx)(It,{project:e},e.id)}))}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h3",{children:"\xa0 Project Dash \xa0"}),Object(r.jsx)("form",{className:"dropdown",children:Object(r.jsxs)("select",{className:"btn btn-secondary dropdown-toggle",type:"button",name:"cars",id:"cars",children:[Object(r.jsx)("option",{value:"volvo",children:"Add Filter"}),Object(r.jsx)("option",{value:"saab",children:"Manager"}),Object(r.jsx)("option",{value:"opel",children:"Size"}),Object(r.jsx)("option",{value:"audi",children:"Date"})]})}),Object(r.jsx)("div",{className:"float-right",children:Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsx)("div",{className:"form-outline",children:Object(r.jsx)("input",{type:"search",id:"form1",placeholder:"Search",className:"form-control"})}),Object(r.jsx)("button",{type:"button",onClick:function(){return e.setState({action:!0})},className:"btn btn-primary",children:"Search"})]})}),Object(r.jsx)("br",{}),Object(r.jsx)(qe.a,{type:"primary",children:"Active Projects"}),Object(r.jsx)(mt.b,{to:"/adminPendingDash",children:Object(r.jsxs)(qe.a,{children:["Pending Projects \u2002",this.state.pendingProjects.length,"\u2002"]})}),Object(r.jsx)(Et.a,{children:Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-light",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Project ID"}),Object(r.jsx)("th",{children:"Project name"}),Object(r.jsx)("th",{children:"Priority Score"}),Object(r.jsx)("th",{children:"Description"}),Object(r.jsx)("th",{children:"Date started"}),Object(r.jsx)("th",{children:"Manager"}),Object(r.jsx)("th",{children:"Transformation Lead"}),Object(r.jsx)("th",{children:"Size"}),Object(r.jsx)("th",{children:"Project Type"}),Object(r.jsx)("th",{children:"Action"})]})}),Object(r.jsx)("tbody",{children:this.projectList()})]})})]})}}]),n}(o.Component),Nt=function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.project.id}),Object(r.jsx)("td",{children:e.project.name}),Object(r.jsx)("td",{children:e.project.projectScore}),Object(r.jsx)("td",{children:"A new application to speed the process"}),Object(r.jsx)("td",{children:e.project.projectSize}),Object(r.jsx)("td",{children:e.project.projectType}),Object(r.jsx)("td",{children:Object(r.jsx)(mt.b,{to:"/adminReviewProject/"+e.project.id,children:Object(r.jsx)(qe.a,{children:"Review"})})})]})},Ut=function(e){Object(Ce.a)(n,e);var t=Object(we.a)(n);function n(e){var r;return Object(ye.a)(this,n),(r=t.call(this,e)).state={activeProjects:[],pendingProjects:[]},r}return Object(Se.a)(n,[{key:"componentDidMount",value:function(){var e=this;je.a.get("".concat("https://project-management-001-api.herokuapp.com","/projects/getAllPendingProjects")).then((function(t){e.setState({pendingProjects:t.data.data})})).catch((function(e){console.log(e)}))}},{key:"projectList",value:function(){return this.state.pendingProjects.sort((function(e,t){return t.priorityScore-e.priorityScore})).map((function(e){return Object(r.jsx)(Nt,{project:e},e.id)}))}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h3",{children:"\xa0 Project Dash \xa0"}),Object(r.jsx)("form",{className:"dropdown",children:Object(r.jsxs)("select",{className:"btn btn-secondary dropdown-toggle",type:"button",name:"cars",id:"cars",children:[Object(r.jsx)("option",{value:"volvo",children:"Add Filter"}),Object(r.jsx)("option",{value:"saab",children:"Manager"}),Object(r.jsx)("option",{value:"opel",children:"Size"}),Object(r.jsx)("option",{value:"audi",children:"Date"})]})}),Object(r.jsx)("div",{className:"float-right",children:Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsx)("div",{className:"form-outline",children:Object(r.jsx)("input",{type:"search",id:"form1",placeholder:"Search",className:"form-control"})}),Object(r.jsx)("button",{type:"button",onClick:function(){return e.setState({action:!0})},className:"btn btn-primary",children:"Search"})]})}),Object(r.jsx)("br",{}),Object(r.jsx)(mt.b,{to:"/adminActiveDash",children:Object(r.jsx)(qe.a,{children:"Active Projects"})}),Object(r.jsxs)(qe.a,{type:"primary",children:["Pending Projects",Object(r.jsxs)("span",{className:"rounded-circle bg-danger text-white",children:["\u2002",this.state.pendingProjects.length,"\u2002"]})]}),Object(r.jsx)(Et.a,{children:Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{className:"thead-light",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Project ID"}),Object(r.jsx)("th",{children:"Project name"}),Object(r.jsx)("th",{children:"Priority Score"}),Object(r.jsx)("th",{children:"Description"}),Object(r.jsx)("th",{children:"Size"}),Object(r.jsx)("th",{children:"Project Type"}),Object(r.jsx)("th",{children:"Review"})]})}),Object(r.jsx)("tbody",{children:this.projectList()})]})})]})}}]),n}(o.Component),Rt=n(81),Dt=function(e){Object(Ce.a)(n,e);var t=Object(we.a)(n);function n(e){var r;return Object(ye.a)(this,n),(r=t.call(this,e)).onChangeManager=r.onChangeManager.bind(Object(Rt.a)(r)),r.onChangeTransformationLead=r.onChangeTransformationLead.bind(Object(Rt.a)(r)),r.onChangeQuestions=r.onChangeQuestions.bind(Object(Rt.a)(r)),r.onSubmitAccept=r.onSubmitAccept.bind(Object(Rt.a)(r)),r.onSubmitReject=r.onSubmitReject.bind(Object(Rt.a)(r)),r.state={Projectinfo:[],BusinessInfo:[],manager:"",transformationLead:"",questions:""},r}return Object(Se.a)(n,[{key:"componentDidMount",value:function(){var e=this;je.a.get("".concat("https://project-management-001-api.herokuapp.com","/projects/projectdetails/")+this.props.match.params.id).then((function(t){e.setState({Projectinfo:t.data.data})})).catch((function(e){console.log(e)})),je.a.get("".concat("https://project-management-001-api.herokuapp.com","/businessCase/getBusinessCase/")+this.props.match.params.id).then((function(t){e.setState({BusinessInfo:t.data.data[0]})})).catch((function(e){console.log(e)}))}},{key:"onChangeManager",value:function(e){this.setState({manager:e.target.value})}},{key:"onChangeTransformationLead",value:function(e){this.setState({transformationLead:e.target.value})}},{key:"onChangeQuestions",value:function(e){this.setState({questions:e.target.value})}},{key:"onSubmitAccept",value:function(e){e.preventDefault();var t={manager:this.state.manager,transformationLead:this.state.transformationLead};console.log("DBG: form data"),console.log(t),je.a.post("".concat("https://project-management-001-api.herokuapp.com","/projects/accept/")+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),window.location="/adminActiveDash"}},{key:"onSubmitReject",value:function(e){e.preventDefault();var t={questions:this.state.questions};console.log("DBG: form data"),console.log(t),je.a.post("".concat("https://project-management-001-api.herokuapp.com","/projects/reject/")+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),window.location="/adminPendingDash"}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h3",{children:"\xa0 Project Dash \xa0"}),Object(r.jsx)(mt.b,{to:"/adminPendingDash",children:Object(r.jsx)(qe.a,{type:"primary",style:{background:"green"},children:"Back to table"})}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["Project Id: ",this.state.Projectinfo.id]}),Object(r.jsxs)("p",{children:["Project Name: ",this.state.Projectinfo.name]}),Object(r.jsxs)("p",{children:["Priority Score: ",this.state.Projectinfo.projectScore]}),Object(r.jsxs)("p",{children:["Project Size: ",this.state.Projectinfo.projectSize]}),Object(r.jsxs)("p",{children:["Project Type: ",this.state.Projectinfo.projectType]}),Object(r.jsxs)("p",{children:["Comments: ",this.state.Projectinfo.questions]}),Object(r.jsxs)("p",{children:["Benefit: ",this.state.BusinessInfo.benefit]}),Object(r.jsxs)("p",{children:["Estimated Cost: ",this.state.BusinessInfo.estimatedCost]}),Object(r.jsxs)("p",{children:["Sponsor: ",this.state.BusinessInfo.sponsor]}),Object(r.jsxs)("p",{children:["Executive Summary: ",this.state.BusinessInfo.executiveSummary]}),Object(r.jsxs)("p",{children:["Reason: ",this.state.BusinessInfo.reason]}),Object(r.jsxs)("p",{children:["Business Option: ",this.state.BusinessInfo.businessOption]}),Object(r.jsxs)("p",{children:["Duration: ",this.state.BusinessInfo.duration]}),Object(r.jsxs)("p",{children:["Benefit Timescale: ",this.state.BusinessInfo.benefitTimescale]}),Object(r.jsxs)("p",{children:["Negative Impact: ",this.state.BusinessInfo.negativeImpact]}),Object(r.jsxs)("p",{children:["Customer Impact And Engagement: ",this.state.BusinessInfo.customerImpactAndEngagement]}),Object(r.jsxs)("p",{children:["Major Risks: ",this.state.BusinessInfo.majorRisks]}),Object(r.jsxs)("p",{children:["Diversity And Inclusion Considerations:"," ",this.state.BusinessInfo.diversityAndInclusionConsiderations]}),Object(r.jsxs)("p",{children:["Investment Appraisal: ",this.state.BusinessInfo.investmentAppraisal]})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h4",{children:"Accept project"}),Object(r.jsxs)("form",{onSubmit:this.onSubmitAccept,children:[Object(r.jsx)("label",{children:"Assign project manager: "}),Object(r.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.manager,onChange:this.onChangeManager}),Object(r.jsx)("label",{children:"\xa0 Assign transition lead: \xa0"}),Object(r.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.transformationLead,onChange:this.onChangeTransformationLead}),Object(r.jsx)("input",{type:"submit",value:"Accept Project",className:"btn btn-success"})]})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h4",{children:"Reject project"}),Object(r.jsxs)("form",{onSubmit:this.onSubmitReject,children:[Object(r.jsx)("label",{children:"\xa0 Reason for rejection: \xa0"}),Object(r.jsx)("input",{type:"text-box",required:!0,className:"form-control",value:this.state.questions,onChange:this.onChangeQuestions}),Object(r.jsx)("input",{type:"submit",value:"Reject Project",className:"btn btn-danger"})]})]}),Object(r.jsx)("br",{})]})}}]),n}(o.Component),Bt=n(406),Mt=n.n(Bt),Lt=n(198),zt=n.n(Lt),Ft=n(407),Vt=n.n(Ft),qt=n.p+"static/media/Hafod-logo.d379f4f0.png",Jt=function(e){return Object(r.jsx)("div",{className:Vt.a.Logo,children:Object(r.jsx)("img",{src:qt,alt:"logo"})})},Gt=n(408),Ht=n.n(Gt),Wt=n(296),Yt=n.n(Wt),Qt=function(e){return Object(r.jsx)("li",{className:Yt.a.NavigationItem,children:Object(r.jsx)(mt.c,{to:e.link,exact:!0,activeClassName:Yt.a.active,children:e.children})})},Kt=Object(l.b)((function(e){return{isAuthorise:null!==e.auth.token,role:e.auth.role}}))((function(e){return Object(r.jsxs)("ul",{className:Ht.a.NavigationItems,children:[e.isAuthorise&&"transformationTeam"===e.role?Object(r.jsx)(Qt,{link:"/adminActiveDash",children:"Project Dashboard"}):null,e.isAuthorise&&"transformationTeam"===e.role?Object(r.jsx)(Qt,{link:"/users",children:"Users"}):null,e.isAuthorise?Object(r.jsx)(Qt,{link:"/logout",children:"Logout"}):Object(r.jsx)(Qt,{link:"/auth",children:"Login"}),Object(r.jsx)(Qt,{link:"/create-project",children:"Add Project "})]})})),Xt=Object(l.b)((function(e){return{role:e.auth.role}}))((function(e){return Object(r.jsxs)("header",{className:zt.a.Toolbar,children:[Object(r.jsx)("div",{className:zt.a.Logo,children:Object(r.jsx)(Jt,{})}),Object(r.jsx)("div",{className:zt.a.AppTitle,children:e.role?e.role:"Project Management"}),Object(r.jsx)("nav",{className:zt.a.DesktopOnly,children:Object(r.jsx)(Kt,{})})]})})),Zt=function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Xt,{}),Object(r.jsx)("main",{className:Mt.a.Content,children:e.children})]})},$t=n(199),en=n.n($t),tn=function(){return Object(r.jsx)("div",{className:en.a.ProjectSubmission,children:Object(r.jsxs)("div",{className:en.a.box,children:[Object(r.jsx)("div",{className:en.a.image}),Object(r.jsxs)("div",{className:en.a.contentWrapper,children:[Object(r.jsx)("img",{style:{height:"auto",width:"35%",margin:"auto"},src:qt,alt:"Hafod Logo"}),Object(r.jsx)("h1",{children:"Thank you!"}),Object(r.jsx)("p",{children:"Your questionnaire has been received. "}),Object(r.jsx)("p",{children:"Thank you for taking the time to fill in our questionnaire to submit a change or Simplify idea."}),Object(r.jsx)("p",{children:"It's now under processing and will be reviewed as soon as possible."}),Object(r.jsx)("p",{children:"At Hafod we care about your ideas of change you want to bring to the business and we will continue to work hard so that customer values are met."})]})]})})},nn=Object(i.g)(Object(l.b)((function(e){return{isAuthorise:null!==e.auth.token}}),(function(e){return{onTryAutoSignUp:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expiryDate"));if(n<=new Date)e(re());else{var r="".concat("https://project-management-001-api.herokuapp.com","/auth/userDetails");fetch(r,{method:"GET",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("User not found");return e.json()})).then((function(n){e(te(t,n.userId,n.role))})).catch((function(t){e(ne(t))})),e(oe(n.getTime()-(new Date).getTime()))}}else e(re())}))}}}))((function(e){var t=e.onTryAutoSignUp;Object(o.useEffect)((function(){t()}),[t]);var n=Object(r.jsxs)(i.d,{children:[Object(r.jsx)(i.b,{path:"/auth",component:ve}),Object(r.jsx)(i.b,{path:"/create-project/success",component:tn}),Object(r.jsx)(i.b,{path:"/create-project",component:Je}),Object(r.jsx)(i.a,{to:"/"})]});return e.isAuthorise&&(n=Object(r.jsxs)(i.d,{children:[Object(r.jsx)(i.b,{path:"/logout",component:_e}),Object(r.jsx)(i.b,{path:"/create-project/success",component:tn}),Object(r.jsx)(i.b,{path:"/create-project",component:Je}),Object(r.jsx)(i.b,{path:"/projects",component:gt}),Object(r.jsx)(i.b,{path:"/assign-projects",component:bt}),Object(r.jsx)(i.b,{path:"/projectinfo/:id",component:St}),Object(r.jsx)(i.b,{path:"/scoreboard/:id",component:kt}),Object(r.jsx)(i.b,{path:"/businessCase/:id",component:Pt}),Object(r.jsx)(i.b,{path:"/adminPendingDash",component:Ut}),Object(r.jsx)(i.b,{path:"/adminActiveDash",component:At}),Object(r.jsx)(i.b,{path:"/adminReviewProject/:id",component:Dt}),Object(r.jsx)(i.b,{path:"/users",component:jt}),Object(r.jsx)(i.a,{to:"/projects"})]})),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Zt,{}),n]})}))),rn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,671)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),a(e),c(e)}))},on=n(140),an=n(409),cn={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/",isAuthorise:!1,role:null},sn=function(e,t){return v(e,{error:null,loading:!0})},ln=function(e,t){return v(e,{token:t.token,userId:t.userId,error:null,loading:!1,isAuthorise:!0,role:t.role})},un=function(e,t){return v(e,{error:t.error.message,loading:!1,isAuthorise:!1})},jn=function(e,t){return v(e,{token:null,userId:null,role:null})},dn=function(e,t){return v(e,{authRedirectPath:t.path})},hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return sn(e);case S:return ln(e,t);case C:return un(e,t);case w:return jn(e);case T:return dn(e,t);default:return e}},pn={user:null,users:[],error:null},bn=function(e,t){return v(e,{loading:!0})},mn=function(e,t){return v(e,{user:t.user,loading:!1})},On=function(e,t){return v(e,{error:t.error.message,loading:!1})},fn=function(e,t){return v(e,{loading:!0})},xn=function(e,t){return v(e,{users:t.users.users,loading:!1})},gn=function(e,t){return v(e,{error:t.error.message,loading:!1})},vn=function(e,t){return v(e,{loading:!0})},yn=function(e,t){return v(e,{loading:!1})},Sn=function(e,t){return v(e,{error:t.error.message,loading:!1})},Cn=function(e,t){return v(e,{loading:!0})},wn=function(e,t){return v(e,{loading:!1})},Tn=function(e,t){return v(e,{error:t.error.message,loading:!1})},_n=function(e,t){return v(e,{loading:!0})},kn=function(e,t){return v(e,{loading:!1})},Pn=function(e,t){return v(e,{error:t.error.message,loading:!1})},En=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return bn(e);case k:return mn(e,t);case P:return On(e,t);case E:return fn(e);case I:return xn(e,t);case A:return gn(e,t);case N:return vn(e);case U:return yn(e);case R:return Sn(e,t);case D:return Cn(e);case B:return wn(e);case M:return Tn(e,t);case L:return _n(e);case z:return kn(e);case F:return Pn(e,t);default:return e}},In={error:null,loading:!1,users:[]},An=function(e,t){return v(e,{error:null,loading:!0})},Nn=function(e,t){return v(e,{error:null,loading:!1,users:t.users})},Un=function(e,t){return v(e,{error:null,loading:!1,user:t.users})},Rn=function(e,t){return v(e,{error:t.error.message,loading:!1})},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:case Y:case V:return An(e);case H:case q:case Q:return Nn(e,t);case W:case K:case J:return Rn(e,t);case ee:return Un(e,t);default:return e}},Bn=[],Mn=function(e,t){return v(e,{loading:!0})},Ln=function(e,t){return v(e,{loading:!1})},zn=function(e,t){return v(e,{error:t.error.message,loading:!1})},Fn=on.d,Vn=Object(on.c)({auth:hn,users:En,assignUser:Dn,project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PROJECT":return[].concat(Object(ke.a)(e),[t.project]);case X:return Mn(e);case Z:return Ln(e);case $:return zn(e,t);default:return e}}}),qn=Object(on.e)(Vn,Fn(Object(on.a)(an.a))),Jn=Object(r.jsx)(l.a,{store:qn,children:Object(r.jsx)(mt.a,{children:Object(r.jsx)(nn,{})})});s.a.render(Jn,document.getElementById("root")),rn()},91:function(e,t,n){e.exports={Projects:"Projects_Projects__2pVKf",ProjectInfo:"Projects_ProjectInfo__3IsJF",Table:"Projects_Table__2ZtAz",antBtn:"Projects_antBtn__28e_i",anticon:"Projects_anticon__IaNIs","antBtn-lg":"Projects_antBtn-lg__RO_OG","antBtn-sm":"Projects_antBtn-sm__zBlc5","antBtn-primary":"Projects_antBtn-primary__3n7AK","antBtn-group":"Projects_antBtn-group__15FV5","antBtn-ghost":"Projects_antBtn-ghost__2DJRi","antBtn-dashed":"Projects_antBtn-dashed__33Vx1","antBtn-danger":"Projects_antBtn-danger__29f0p","antBtn-link":"Projects_antBtn-link__5Gleu","antBtn-text":"Projects_antBtn-text__1gRpx"}}},[[612,1,2]]]);
//# sourceMappingURL=main.24b92286.chunk.js.map